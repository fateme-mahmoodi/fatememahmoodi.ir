function calculateSettingAsThemeString({localStorageTheme:e,systemSettingDark:t}){return null!==e?e:t.matches?"dark":"light"}function updateButton({buttonEl:e,isDark:t}){const n=t?"تغییر به حالت روشن":"تغییر به حالت تاریک";e.setAttribute("title",n),e.setAttribute("name",t?"moon":"sunny")}function updateThemeOnHtmlEl({theme:e}){document.querySelector("html").setAttribute("data-theme",e),document.documentElement.classList.add("theme-in-transition"),document.documentElement.setAttribute("data-theme",e),window.setTimeout(function(){document.documentElement.classList.remove("theme-in-transition")},300)}function themeChange(){let e="dark"===currentThemeSetting?"light":"dark";localStorage.setItem("theme",e),updateButton({buttonEl:themeSwitch,isDark:"dark"===e}),updateThemeOnHtmlEl({theme:e}),currentThemeSetting=e}const themeSwitch=document.querySelector("[data-theme-toggle]"),localStorageTheme=localStorage.getItem("theme"),systemSettingDark=window.matchMedia("(prefers-color-scheme: dark)");let currentThemeSetting=calculateSettingAsThemeString({localStorageTheme:localStorageTheme,systemSettingDark:systemSettingDark});updateButton({buttonEl:themeSwitch,isDark:"dark"===currentThemeSetting}),updateThemeOnHtmlEl({theme:currentThemeSetting}),themeSwitch.addEventListener("click",themeChange),document.addEventListener("keydown",e=>{"d"===e.key&&!0===e.ctrlKey&&(e.preventDefault(),themeChange())});