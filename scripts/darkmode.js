function calculateSettingAsThemeString({localStorageTheme:t,systemSettingDark:e}){return null!==t?t:e.matches?"dark":"light"}function updateButton({buttonEl:t,isDark:e}){const n=e?"تغییر به حالت روشن":"تغییر به حالت تاریک";t.setAttribute("title",n),t.setAttribute("name",e?"moon":"sunny")}function updateThemeOnHtmlEl({theme:t}){document.querySelector("html").setAttribute("data-theme",t),document.documentElement.classList.add("theme-in-transition"),document.documentElement.setAttribute("data-theme",t),window.setTimeout(function(){document.documentElement.classList.remove("theme-in-transition")},300)}const themeSwitch=document.querySelector("[data-theme-toggle]"),localStorageTheme=localStorage.getItem("theme"),systemSettingDark=window.matchMedia("(prefers-color-scheme: dark)");let currentThemeSetting=calculateSettingAsThemeString({localStorageTheme:localStorageTheme,systemSettingDark:systemSettingDark});updateButton({buttonEl:themeSwitch,isDark:"dark"===currentThemeSetting}),updateThemeOnHtmlEl({theme:currentThemeSetting}),themeSwitch.addEventListener("click",t=>{const e="dark"===currentThemeSetting?"light":"dark";localStorage.setItem("theme",e),updateButton({buttonEl:themeSwitch,isDark:"dark"===e}),updateThemeOnHtmlEl({theme:e}),currentThemeSetting=e});